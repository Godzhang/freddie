<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <script src="https://cdn.bootcss.com/fetch/3.0.0/fetch.js"></script>
    <!-- <script src="./js/jquery.js"></script> -->
    <title>file-upload</title>
  </head>
  <body>
    <!-- <form
      action="http://localhost:8100"
      enctype="multipart/form-data"
      method="POST"
      target="temp-iframe"
    >
      选择文件(可多选)：<input
        type="file"
        name="f1"
        id="f1"
        multiple
      />input必须设置为name属性，否则数据无法发送<br /><br />
      <br />
      <br />
      <button type="submit" id="btn-0">上传</button>
    </form> -->

    <div>
      选择文件(可多选)：
      <input type="file" id="f1" multiple /><br /><br />
      <button type="button" id="btn-submit">上 传</button>
    </div>

    <script></script>
    <script>
      // 无刷新提交
      // function submitUpload() {
      //   let fileList = document.getElementById("f1").files;
      //   if (!fileList.length) {
      //     alert("请选择文件");
      //     return;
      //   }
      //   let fd = new FormData();

      //   for (let i = 0; i < fileList.length; i++) {
      //     fd.append("f1", fileList[i]);
      //   }

      //   let xhr = new XMLHttpRequest();
      //   xhr.open("POST", "http://localhost:8100/", true);

      //   xhr.send(fd);
      //   xhr.onreadystatechange = function() {
      //     console.log("state change", xhr.readyState);
      //     if (this.readyState === 4 && this.status === 200) {
      //       let obj = JSON.parse(xhr.responseText);
      //       console.log(obj);
      //       if (obj.length) {
      //         console.log("上传成功");
      //       }
      //     }
      //   };
      // }

      // document
      //   .getElementById("btn-submit")
      //   .addEventListener("click", submitUpload);
    </script>
  </body>
</html>
