<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0, user-scalable=no"
    />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <style>
      html,
      body {
        width: 100%;
        height: 100%;
        margin: 0;
        padding: 0;
      }

      #container {
        height: 100%;
      }
      .zoom-control {
        width: 100px;
        height: 30px;
        line-height: 30px;
        border: 1px solid #08c;
        color: #08c;
        border-radius: 5px;
        text-align: center;
        cursor: pointer;
      }
    </style>
    <title>map</title>
    <script src="./mapjson.js"></script>
    <script
      type="text/javascript"
      src="http://api.map.baidu.com/api?v=3.0&ak=sxO2ljqHBANdgpezGrSscqsm31Ftw7PR"
    ></script>
  </head>

  <body>
    <div id="container"></div>

    <script>
      // 创建地图实例
      let map = new BMap.Map("container");
      // 创建点坐标
      let point = new BMap.Point(116.404, 39.915);
      // 地图初始化
      map.centerAndZoom(point, 15);
      map.enableScrollWheelZoom(true);

      map.addControl(new BMap.NavigationControl());

      // 自定义叠加层
      // 自定义绘制层

      // 叠加图层
      // let traffic = new BMap.TrafficLayer();
      // map.addTileLayer(traffic);
      // setTimeout(() => {
      //   map.removeTileLayer(traffic);
      // }, 2000);

      // 信息窗口
      // let opts = {
      //   width: 250,
      //   height: 100,
      //   title: "hello"
      // };
      // let infoWindow = new BMap.InfoWindow(
      //   "<div style='color: red;'>world<div>",
      //   opts
      // );
      // map.openInfoWindow(infoWindow, map.getCenter());

      // 自定义标注
      // function SquareOverlay(center, length, color) {
      //   this._center = center;
      //   this._length = length;
      //   this._color = color;
      // }
      // SquareOverlay.prototype = new BMap.Overlay();
      // SquareOverlay.prototype.initialize = function(map) {
      //   this._map = map;
      //   let div = document.createElement("div");
      //   div.style.position = "absolute";
      //   div.style.width = this._length + "px";
      //   div.style.height = this._length + "px";
      //   div.style.background = this._color;
      //   map.getPanes().markerPane.appendChild(div);
      //   this._div = div;
      //   return div;
      // };
      // SquareOverlay.prototype.draw = function() {
      //   let position = this._map.pointToOverlayPixel(this._center);
      //   this._div.style.left = position.x - this._length / 2 + "px";
      //   this._div.style.top = position.y - this._length / 2 + "px";
      // };
      // let center = map.getCenter();
      // let mySquare = new SquareOverlay(center, 100, "red");
      // map.addOverlay(mySquare);

      // 标注折线
      // var polyline = new BMap.Polyline(
      //   [
      //     new BMap.Point(116.399, 39.91),
      //     new BMap.Point(116.405, 39.92),
      //     new BMap.Point(116.405, 39.9)
      //   ],
      //   { strokeColor: "blue", strokeWeight: 6, strokeOpacity: 0.5 }
      // );
      // map.addOverlay(polyline);

      // 添加覆盖物

      //个性化地图
      // map.setMapStyleV2({ styleJson });

      // 自定义控件
      // function ZoomControl() {
      //   this.defaultAnchor = BMAP_ANCHOR_TOP_RIGHT;
      //   this.defaultOffset = new BMap.Size(10, 10);
      // }
      // ZoomControl.prototype = new BMap.Control();
      // ZoomControl.prototype.initialize = map => {
      //   let div = document.createElement("div");
      //   div.appendChild(document.createTextNode("放大2级"));
      //   div.className = "zoom-control";
      //   div.onclick = function(e) {
      //     map.zoomTo(map.getZoom() + 2);
      //   };
      //   map.getContainer().appendChild(div);
      //   return div;
      // };
      // let myZoomControl = new ZoomControl();
      // map.addControl(myZoomControl);

      // map.addControl(new BMap.OverviewMapControl());
      // map.addControl(new BMap.ScaleControl());
      // let opts = {
      //   anchor: BMAP_ANCHOR_TOP_RIGHT,
      //   offset: new BMap.Size(150, 5)
      // };
      // map.addControl(new BMap.MapTypeControl(opts));
      // map.setCurrentCity("北京");

      // setTimeout(() => {
      //   map.panTo(new BMap.Point(116.409, 39.918));
      // }, 2000);
    </script>
  </body>
</html>
