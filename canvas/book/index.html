<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="../reset.css" />
    <script src="../public/utils.js"></script>
    <style>
      #canvas {
        /* margin: 100px; */
        /* border: 1px solid #ddd; */
      }
    </style>
    <title>book-study</title>
  </head>

  <body>
    <canvas id="canvas"></canvas>

    <script>
      //
      const canvasWidth = document.body.clientWidth;
      const canvasHeight = document.body.clientHeight;
      const middleX = canvasWidth / 2;
      const middleY = canvasHeight / 2;
      const canvas = document.getElementById("canvas");
      canvas.width = canvasWidth;
      canvas.height = canvasHeight;

      const context = canvas.getContext("2d");

      context.fillStyle = "cornflowerblue";
      context.strokeStyle = "OrangeRed";

      context.shadowColor = "rgba(50, 50, 50, 1.0)";
      context.shadowOffsetX = 2;
      context.shadowOffsetY = 2;
      context.shadowBlur = 4;

      context.lineWidth = 20;
      context.lineCap = "round";

      context.beginPath();
      context.moveTo(120.5, 130);
      context.quadraticCurveTo(150.8, 130, 160.6, 150.5);
      context.quadraticCurveTo(190, 250.0, 210.5, 160.5);
      context.quadraticCurveTo(240, 100.5, 290, 70.5);

      context.stroke();

      // context.lineWidth = 20
      // context.moveTo(100, 100)
      // context.lineTo(500, 100)
      // context.lineTo(100, 500)

      // context.lineCap = 'round'
      // context.lineJoin = 'bevel'
      // context.miterLimit = 20 // 斜接线与二分之一线宽的比值
      // context.stroke()

      //  扩展 canvasRenderingContent2D 绘制虚线 start
      // const moveToFunction = CanvasRenderingContext2D.prototype.moveTo
      // CanvasRenderingContext2D.prototype.lastMoveToLocation = {}
      // CanvasRenderingContext2D.prototype.moveTo = function (x, y) {
      //   moveToFunction.apply(context, [x, y])
      //   this.lastMoveToLocation.x = x
      //   this.lastMoveToLocation.y = y
      // }
      // CanvasRenderingContext2D.prototype.dashedLineTo = function (x, y, dashLength) {
      //   dashLength = dashLength === undefined ? 5 : dashLength;
      //   const startX = this.lastMoveToLocation.x
      //   const startY = this.lastMoveToLocation.y
      //   const deltaX = x - startX
      //   const deltaY = y - startY
      //   const numDashes = Math.floor(
      //     Math.sqrt(deltaX * deltaX + deltaY * deltaY) / dashLength
      //   );

      //   for (let i = 0; i < numDashes; i++) {
      //     context[i % 2 === 0 ? "moveTo" : "lineTo"](
      //       startX + (deltaX / numDashes) * i,
      //       startY + (deltaY / numDashes) * i
      //     );
      //   }

      //   this.moveTo(x, y)
      // }
      // context.moveTo(10, 10)
      // context.dashedLineTo(100, 10)
      // context.dashedLineTo(100, 100)
      // context.strokeStyle = 'OrangeRed'
      // context.stroke()
      // 扩展 canvasRenderingContent2D 绘制虚线 end

      // 绘制虚线 start
      // function drawDashedLine(context, x1, y1, x2, y2, dashLength) {
      //   dashLength = dashLength === undefined ? 5 : dashLength
      //   const deltaX = x2 - x1
      //   const deltaY = y2 - y1
      //   const numDashes = Math.floor(
      //     Math.sqrt(deltaX * deltaX + deltaY * deltaY) / dashLength
      //   )

      //   for (let i = 0; i < numDashes; i++) {
      //     context[i % 2 === 0 ? 'moveTo' : 'lineTo'](x1 + (deltaX / numDashes) * i, y1 + (deltaY / numDashes) * i)
      //   }

      //   context.stroke()
      // }
      // context.lineWidth = 3
      // context.strokeStyle = 'OrangeRed'
      // drawDashedLine(context, 20, 20, context.canvas.width - 20, 20)
      // drawDashedLine(context, context.canvas.width - 20, 20, context.canvas.width - 20, context.canvas.height - 20, 10)
      // 绘制虚线 end

      // function drawGrid(context, color, stepx, stepy) {
      //   const { width, height } = context.canvas;
      //   context.strokeStyle = color;
      //   context.lineWidth = 0.5;

      //   for (let i = stepx + 0.5; i < width; i += stepx + 1) {
      //     context.beginPath();
      //     context.moveTo(i, 0);
      //     context.lineTo(i, height);
      //     context.stroke();
      //   }
      //   for (let i = stepy + 0.5; i < height; i += stepy + 1) {
      //     context.beginPath();
      //     context.moveTo(0, i);
      //     context.lineTo(width, i);
      //     context.stroke();
      //   }
      // }
      // drawGrid(context, "OrangeRed", 10, 10);

      // context.lineWidth = 1;
      // context.beginPath();
      // context.moveTo(50, 10);
      // context.lineTo(450, 10);
      // context.stroke();
      // context.beginPath();
      // context.moveTo(50.5, 50.5);
      // context.lineTo(450.5, 50.5);
      // context.stroke();
      // 裁剪图形
      // context.fillStyle = "Darkorange";
      // context.strokeStyle = "rgba(0, 0, 0, 0.7)";

      // context.beginPath();

      // context.rect(0, 0, canvasWidth, canvasHeight);

      // rect(context, 100, 100, 100, 100, true);

      // context.moveTo(150, 300); // 消除画圆之前子路径终点与圆的起点之间的连线
      // context.arc(100, 300, 50, 0, Math.PI * 2, true);

      // context.moveTo(600, 600);
      // context.lineTo(500, 600);
      // context.lineTo(600, 700);

      // context.closePath();

      // context.fill();
      // context.stroke();
      // -----------------------------------------------------
      // context.fillStyle = "#08c";
      // context.shadowColor = "rgba(0, 0, 0, 0.8)";
      // context.shadowOffsetX = 12;
      // context.shadowOffsetY = 12;
      // context.shadowBlur = 15;
      // context.arc(500, 500, 300, 0, Math.PI * 2);
      // context.arc(500, 500, 400, 0, Math.PI * 2, true);
      // context.fill();

      // context.beginPath();
      // context.rect(100, 100, 100, 100);
      // context.stroke();

      // context.beginPath();
      // context.rect(500, 500, 100, 100);
      // context.stroke();
      // 阴影
      // 内凹效果的橡皮擦 start
      // context.lineWidth = 1;
      // context.shadowColor = "blue";
      // context.shadowOffsetX = -5;
      // context.shadowOffsetY = -5;
      // context.shadowBlur = 20;
      // context.strokeStyle = "rgba(0,0,255,0.6)";

      // context.beginPath();
      // context.arc(
      //   canvasWidth / 2,
      //   canvasHeight / 2,
      //   300,
      //   0,
      //   Math.PI * 2,
      //   false
      // );
      // context.clip();
      // context.stroke();
      // 内凹效果的橡皮擦 end

      // function drawShadow(color) {
      //   context.shadowColor = color
      //   context.shadowOffsetX = 2
      //   context.shadowOffsetY = -2
      //   context.shadowBlur = 5

      //   context.fillStyle = '#08c'
      //   context.fillRect(100, 100, 100, 50)
      // }
      // drawShadow('rgba(0, 0, 0, 0.7)')

      // document.body.addEventListener('click', () => {
      //   context.clearRect(0, 0, canvasWidth, canvasHeight)
      //   drawShadow('rgba(0,0,0,0)')
      // })

      // 图案
      // const img = new Image()

      // function fillCanvasWithPattern(repeatString) {
      //   const pattern = context.createPattern(img, repeatString)
      //   context.clearRect(0, 0, canvasWidth, canvasHeight)
      //   context.fillStyle = pattern
      //   context.fillRect(0, 0, canvasWidth, canvasHeight)
      //   // context.fill()
      //   requestAnimationFrame(fillCanvasWithPattern.bind(this, repeatString))
      // }
      // img.src = '../images/5.jpg'
      // img.onload = () => {
      //   fillCanvasWithPattern('no-repeat')
      // }

      // 径向渐变
      // const radialGradient = context.createRadialGradient(canvas.width / 2, canvas.height / 2, 10, canvas.width / 2, 0, 100)
      // radialGradient.addColorStop(0, 'blue')
      // radialGradient.addColorStop(0.25, 'white')
      // radialGradient.addColorStop(0.5, 'purple')
      // radialGradient.addColorStop(0.65, 'red')
      // radialGradient.addColorStop(1, 'yellow')

      // context.fillStyle = radialGradient
      // context.rect(0, 0, canvas.width, canvas.height)
      // context.fill()

      // 线性渐变
      // const gradient = context.createLinearGradient(325, 100, 525, 100)
      // gradient.addColorStop(0, 'blue')
      // gradient.addColorStop(0.25, 'white')
      // gradient.addColorStop(0.5, 'purple')
      // gradient.addColorStop(0.65, 'red')
      // gradient.addColorStop(1, 'yellow')

      // context.lineJoin = 'round'
      // context.lineWidth = 30

      // context.font = '24px Helvetica'
      // context.fillText('click anywhere to erase', 175, 200)

      // context.strokeStyle = 'darksalmon'
      // context.fillStyle = gradient

      // context.strokeRect(75, 100, 200, 200)
      // context.fillRect(325, 100, 200, 200)

      // canvas.addEventListener('mousedown', e => {
      //   context.clearRect(0, 0, documentWidth, documentHeight)
      // })
    </script>
  </body>
</html>
